<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>数组</title>
</head>
<body>
    <script>
        /* 
            数组去重
        */
        // 1.最佳兼容性去重方式
        function arrayRepeat(arr){
            let arr1 = [];
            for( let i=0;i<arr.length;i++ ){
                for( var j=0;j<arr1.length;j++ ){
                    if( arr[i]===arr1[j] ){
                        break;
                    }
                }
                if( j===arr1.length ){
                    arr1.push(arr[i]);
                }
            }
            return arr1;
        }
        console.log(11111,arrayRepeat([1,'a','A',null,null,true,true,false,false,2,3,2,,,'2','1','1',[],[],{},{}]));

        // 2.利用indexOf去重
        function arrayRepeat1(arr){
            let arr1 = [];
            // for( let i=0;i<arr.length;i++ ){
            //     if( arr1.indexOf(arr[i]) === -1 ){
            //         arr1.push(arr[i]);
            //     }
            // }
            arr.map((item)=>{
                if( arr1.indexOf(item) === -1 ){
                    arr1.push(item);
                }
            })
            return arr1;
        }
        console.log(22222,arrayRepeat1([1,'a','A',null,null,true,true,false,false,2,3,2,,,'2','1','1',[],[],{},{}]));

        // 3.排序后去重  排序后只比较当前元素与后一个是否相同，如果后一个元素和上一个元素相同，就说明重复
        function arrayRepeat2(arr){
            let arrsort = [...arr].sort();
            let arr1 = [];
            let seen;
            for( let i=0;i<arrsort.length;i++ ){
                if( !i || seen !== arrsort[i]  ){
                    arr1.push(arrsort[i]);
                }
                seen = arrsort[i];
            }
            return arr1;
        }
        console.log(3333333,arrayRepeat2([1,'a','A',null,null,true,true,false,false,2,3,2,,,'2','1','1',[],[],{},{}]));

        // 4.排序&不排序的两种去重方式，通过传参是否已排序来决定按照哪种方式进行去重--使用for循环
        function arrayRepeat3(arr,issort) {
            let arr1 = [];
            if( issort ){
                let seen;
                /* 使用map会过滤掉undefined---使用for不会过滤 */
                // arrsort.map((item,index)=>{
                //     if( !index || seen !== arrsort[i]  ){
                //         arr1.push(arrsort[i]);
                //     }
                //     seen = arrsort[i];
                // })
                for( let i=0;i<arrsort.length;i++ ){
                    if( !i || seen !== arrsort[i]  ){
                        arr1.push(arrsort[i]);
                    }
                    seen = arrsort[i];
                }
            }else{
                /* 使用map会过滤掉undefined---使用for不会过滤 */
                // arr.map((item)=>{
                //     if( arr1.indexOf(item) === -1 ){
                //         arr1.push(item);
                //     }
                // })
                /* forEach方法实现遍历---会过滤掉undefined---可以再foreach中使用async await  */
                // arr.forEach(function(item){
                //     if( arr1.indexOf(item) === -1 ){
                //         arr1.push(item);
                //     }
                // })
                /* for in 遍历出来的是key---会过滤掉undefined */
                // for( let item in arr ){
                //     if( arr1.indexOf(arr[item]) === -1 ){
                //         arr1.push(arr[item]);
                //     }
                // }
                /* for of 遍历出来的是value---表现和for一样，不会过滤掉undefined */
                for( let item of arr ){
                    if( arr1.indexOf(item) === -1 ){
                        arr1.push(item);
                    }
                }
                /* for循环 */
                // for( let i=0;i<arr.length;i++ ){
                //     if( arr1.indexOf(arr[i]) === -1 ){
                //         arr1.push(arr[i]);
                //     }
                // }
            }
            return arr1;
        }
        console.log(4444444,arrayRepeat3([1,'a','A',null,null,true,true,false,false,2,3,2,,,'2','1','1',[],[],{},{}],false));
    </script>
</body>
</html>